<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./index.css" rel="stylesheet" />
    <!-- <script src="../node_modules/mind-ar/dist/mindar-image.prod.js"></script>
    <script src="../node_modules/aframe/dist/aframe-master.min.js"></script>
    <script src="../node_modules/mind-ar/dist/mindar-image-aframe.prod.js"></script> -->
    <script type="module" src="app.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.5/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.5/dist/mindar-image-aframe.prod.js"></script>
  </head>
  
  <body class="bg-blue-300">
    
   <!-- 简介 -->
   <div
   id="start-modal"
   class="relative z-10"
   aria-labelledby="modal-title"
   role="dialog"
   aria-modal="true"
 >
   <!--
     Background backdrop, show/hide based on modal state.
 
     Entering: "ease-out duration-300"
       From: "opacity-0"
       To: "opacity-100"
     Leaving: "ease-in duration-200"
       From: "opacity-100"
       To: "opacity-0"
   -->
   <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
 
   <div class="fixed inset-0 z-10 overflow-y-auto">
     <div
       class="flex min-h-full justify-center p-4 text-center items-center sm:p-0"
     >
       <!--
         Modal panel, show/hide based on modal state.
 
         Entering: "ease-out duration-300"
           From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
           To: "opacity-100 translate-y-0 sm:scale-100"
         Leaving: "ease-in duration-200"
           From: "opacity-100 translate-y-0 sm:scale-100"
           To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
       -->
       <div
       
         class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"
       >
         <div>
           <!-- <div
             class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"
           >
           </div> -->
           <div class="mt-3 text-center sm:mt-5">
             <h3
               class="text-2xl font-medium leading-6 text-gray-900"
               id="modal-title"
             >
               簡介
             </h3>
             <div class="mt-2">
               <p class="text-lg text-gray-500">
                 點擊開始，待加載完畢，用攝像頭對準marker，會顯示marker的影片，點擊影片會聽到影片聲音
               </p>
             </div>
           </div>
         </div>
         <div
           class="mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"
         >
           <button
             id="start-btn"
             type="button"
             class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:col-start-2 sm:text-sm"
           >
             開始
           </button>
         </div>
       </div>
     </div>
   </div>
 </div>

    <!-- 模型加載 -->
    <a-scene
      mindar-image="imageTargetSrc: targets.mind; maxTrack: 1; filterMinCF:0.0001; filterBeta: 0.001;uiScanning:no"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >

      <!-- 掃描marker src="https://cdn.aframe.io/videos/bunny.mp4" -->
      <a-assets>
        <!-- <img id="img" src="./images/1.png" /> -->
        <!-- <video id="videos" src="videoplayback.mp4" autoplay loop="true"></video> -->
        <video 
        id="videoFireworks"
        preload="auto"
        src="./videoplayback.mp4"
        width="160" 
        height="90" 
        autoplay 
        loop="true"
        crossOrigin="anonymous" 
        muted type="video/mp4"></video>
      </a-assets>

      <!-- 顯示內容 -->
      <!-- 一个园 -->
      <!-- <a-entity mindar-image-target="targetIndex: 0" geometry="primitive: circle; radius: 0.5" material="side: double">
      </a-entity> -->
      <!-- 一个四方形 -->
      <!-- <a-entity mindar-image-target="targetIndex: 0" geometry="primitive: box; width: 1; height: 1; depth: 0" material="src:#img">
      </a-entity> -->
      <!-- 一个视频 -->
       <!-- <a-entity mindar-image-target="targetIndex: 0" geometry="primitive: box; width: 1; height: 0.5; depth: 0" material="src:#videos">
      </a-entity> -->

      <!-- <a-entity mindar-image-target="targetIndex: 0">
          <a-plane material="src:#videos" video-handler></a-plane>
        </a-entity>
      . -->

      <a-entity 
        id="target"
        mindar-image-target="targetIndex: 0"
        material="shader: flat; src: #videoFireworks"
        geometry="primitive: box; width: 1; height: 1; depth: 0"
        position="0 0 0"
        rotation="0 0 0"
        play-on-click
        visible="true">
      </a-entity>

      <!-- 使用相機 -->
      <a-camera position="0 0 0" look-controls="enabled: false"> </a-camera>
    </a-scene>

  </body>
</html>